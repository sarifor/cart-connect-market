# 소개 <!-- omit in toc -->
테이블 정의서 Q&A.<br/>
원래는 테이블 정의서의 '비고' 열에 넣으려 했으나, 너무 양이 많아져서 별도로 분리함.<br/>
테이블별로 관련 질문과 답변을 정리함. 대부분의 답변은 ChatGPT를 참고함.

# 목차 <!-- omit in toc -->
- [회원(member\_tbl)](#회원member_tbl)
  - [Q. INT(9)로 쓰는 것과 INTEGER로 쓰는 것은 무슨 차이지?](#q-int9로-쓰는-것과-integer로-쓰는-것은-무슨-차이지)
  - [Q. 보통 테이블 이름은 단수형? 복수형?](#q-보통-테이블-이름은-단수형-복수형)
  - [Q. 회원이 닉네임을 정하지 않았을 경우, 랜덤한 단어가 들어오게 하려면?](#q-회원이-닉네임을-정하지-않았을-경우-랜덤한-단어가-들어오게-하려면)
  - [Q. 현재 시간 값이 채워지는 것도 AUTO\_INCREMENT?](#q-현재-시간-값이-채워지는-것도-auto_increment)
- [배송처(shipping\_address\_tbl)](#배송처shipping_address_tbl)
- [팔로우 관계(follow\_tbl)](#팔로우-관계follow_tbl)
- [상품(product\_tbl)](#상품product_tbl)
  - [Q. 재고에 음수 값이 오지 못하게 하려면?](#q-재고에-음수-값이-오지-못하게-하려면)
- [카테고리(category\_tbl)](#카테고리category_tbl)
- [장바구니(cart\_tbl)](#장바구니cart_tbl)
  - [Q. 사재기를 막을 거야. 한 상품당 잠정적으로 100개 이상은 못 사게 하고 싶어](#q-사재기를-막을-거야-한-상품당-잠정적으로-100개-이상은-못-사게-하고-싶어)
- [주문(order\_tbl)](#주문order_tbl)
  - [Q. 1부터 시작해야 하나? 0은 아무래도 취소의 의미로 보일까봐](#q-1부터-시작해야-하나-0은-아무래도-취소의-의미로-보일까봐)
  - [Q. 받는 사람 이름, 주소, 우편번호는 외래키가 아니라 주문 시 배송처 테이블에서 직접 복사해오기로 했어. 이래도 될까?](#q-받는-사람-이름-주소-우편번호는-외래키가-아니라-주문-시-배송처-테이블에서-직접-복사해오기로-했어-이래도-될까)
  - [Q. 배송비는 아무리 배달할 물건이 많아도 10000엔은 못 넘게 할 거야. 그럼 SMALLINT?](#q-배송비는-아무리-배달할-물건이-많아도-10000엔은-못-넘게-할-거야-그럼-smallint)
  - [Q. 선택지를 0, 1이 대신하게 하는 게 제로초님 자바스크립트 책 어디에 나와 있었더라?](#q-선택지를-0-1이-대신하게-하는-게-제로초님-자바스크립트-책-어디에-나와-있었더라)
- [공개장바구니(public\_cart\_tbl)](#공개장바구니public_cart_tbl)
  - [Q. 회원 탈퇴 시, 해당 회원이 작성한 공개 장바구니도 자동으로 삭제되게 하려면 어떻게 하면 돼?](#q-회원-탈퇴-시-해당-회원이-작성한-공개-장바구니도-자동으로-삭제되게-하려면-어떻게-하면-돼)
  - [Q. 내용 길이 최대 1000자에 VARCHAR 자료형을 쓰는 게 맞니?](#q-내용-길이-최대-1000자에-varchar-자료형을-쓰는-게-맞니)
- [주문 상세(order\_detail\_tbl)](#주문-상세order_detail_tbl)


# 회원(member_tbl)
## Q. INT(9)로 쓰는 것과 INTEGER로 쓰는 것은 무슨 차이지?
A. MySQL 8.0 이후로 INT(M)에서 M은 완전히 무시됨.<br/>
즉, INT(9)는 그냥 INT와 동일함.<br/>
따라서, INT(9) 대신 그냥 INT 또는 INTEGER를 쓰는 게 가장 깔끔하고 표준적이야!

## Q. 보통 테이블 이름은 단수형? 복수형?
A. 단수형(user, order, product)을 더 선호하는 경향이 있음.<br/>
ORM 기반 프로젝트(Rails, Django 등)에서는 복수형을 자동 변환하므로 복수형을 쓸 수도 있음.

## Q. 회원이 닉네임을 정하지 않았을 경우, 랜덤한 단어가 들어오게 하려면?

## Q. 현재 시간 값이 채워지는 것도 AUTO_INCREMENT?
A. TIMESTAMP는 AUTO_INCREMENT가 적용되지 않아.<br/>
AUTO_INCREMENT는 숫자형 데이터 타입(INT, BIGINT 등)에만 적용 가능해.<br/>
TIMESTAMP는 날짜와 시간을 저장하는 데이터 타입이라 자동 증가(AUTO_INCREMENT)가 필요하지 않아.


# 배송처(shipping_address_tbl)
없음.


# 팔로우 관계(follow_tbl)
없음.


# 상품(product_tbl)
## Q. 재고에 음수 값이 오지 못하게 하려면?
A. stock INT(9) UNSIGNED NOT NULL, -- 재고 (음수 불가능)


# 카테고리(category_tbl)
없음.


# 장바구니(cart_tbl)
## Q. 사재기를 막을 거야. 한 상품당 잠정적으로 100개 이상은 못 사게 하고 싶어

A. 100 이하 값만 저장할 거라면 TINYINT UNSIGNED로 설정하면 문제없어!<br/>
ALTER TABLE cart_tbl<br/>
MODIFY COLUMN quantity TINYINT UNSIGNED NOT NULL DEFAULT 1 CHECK (quantity BETWEEN 1 AND 100);<br/>
당장 TINYINT 써도 문제없지만, 나중에 변경할 가능성이 있다면 SMALLINT로 시작하는 게 더 나아!


# 주문(order_tbl)
## Q. 1부터 시작해야 하나? 0은 아무래도 취소의 의미로 보일까봐

A. 결제 수단 값이므로 0이 '취소'로 혼동될 가능성이 있다면 1부터 시작하는 것이 자연스럽다.<br/>
비즈니스 로직에서도 1부터 시작하면 가독성이 높고, UI에서 표시할 때도 직관적.<br/>
추가적인 결제 수단을 넣을 때도 확장성이 좋음.<br/>
따라서 1부터 시작하는 것이 더 적절한 선택이야!

## Q. 받는 사람 이름, 주소, 우편번호는 외래키가 아니라 주문 시 배송처 테이블에서 직접 복사해오기로 했어. 이래도 될까?

A. 결론: 복사 방식이 적절한 선택!<br/>
주문 당시의 배송 정보를 정확히 보존할 필요가 있다면, 복사하는 것이 맞다!<br/>
배송 정보 변경이 과거 주문에도 영향을 미치면 안 되므로 FK 참조보다는 복사가 적절하다.<br/>
데이터 중복 문제는 발생할 수 있으나, 조회 성능이 개선되고 과거 기록을 보존할 수 있음.<br/>
즉, 현재 설계(복사 방식)로 진행해도 문제없으며, 오히려 더 현실적인 선택이다!

## Q. 배송비는 아무리 배달할 물건이 많아도 10000엔은 못 넘게 할 거야. 그럼 SMALLINT?

A. 배송비 최대 10,000엔이라면 SMALLINT UNSIGNED (0~65,535) 사용이 적절해!

## Q. 선택지를 0, 1이 대신하게 하는 게 제로초님 자바스크립트 책 어디에 나와 있었더라?


# 공개장바구니(public_cart_tbl)
## Q. 회원 탈퇴 시, 해당 회원이 작성한 공개 장바구니도 자동으로 삭제되게 하려면 어떻게 하면 돼?

A. ON DELETE CASCADE 옵션을 추가하는 것도 고려할 수 있음.<br/>
사용자가 삭제되면 해당 사용자가 작성한 공개 장바구니도 자동으로 삭제되도록!<br/>
FOREIGN KEY (member_id) REFERENCES member_tbl(member_id) ON DELETE CASCADE"

## Q. 내용 길이 최대 1000자에 VARCHAR 자료형을 쓰는 게 맞니?
A. content (VARCHAR(1000)): 내용 길이 제한이 1000자인데, 일부 장문의 게시글 작성이 필요하다면 TEXT 자료형을 고려해볼 수도 있음.


# 주문 상세(order_detail_tbl)
없음.
